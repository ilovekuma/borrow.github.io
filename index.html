<!DOCTYPE html>
<html lang="en">

<head>
  <title>å¹³æ¿å™¨æå€Ÿç”¨/æ­¸é‚„ç™»è¨˜è¡¨</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!--===============================================================================================-->
  <link rel="icon" type="image/png" href="images/icons/favicon.ico" />
  <!--===============================================================================================-->
  <link rel="stylesheet" type="text/css" href="vendor/bootstrap/css/bootstrap.min.css">
  <!--===============================================================================================-->
  <link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.7.0/css/font-awesome.min.css">
  <!--===============================================================================================-->
  <link rel="stylesheet" type="text/css" href="fonts/Linearicons-Free-v1.0.0/icon-font.min.css">
  <!--===============================================================================================-->
  <link rel="stylesheet" type="text/css" href="vendor/animate/animate.css">
  <!--===============================================================================================-->
  <link rel="stylesheet" type="text/css" href="vendor/css-hamburgers/hamburgers.min.css">
  <!--===============================================================================================-->
  <link rel="stylesheet" type="text/css" href="vendor/animsition/css/animsition.min.css">
  <!--===============================================================================================-->
  <link rel="stylesheet" type="text/css" href="vendor/select2/select2.min.css">
  <!--===============================================================================================-->
  <link rel="stylesheet" type="text/css" href="vendor/daterangepicker/daterangepicker.css">
  <!--===============================================================================================-->
  <link rel="stylesheet" type="text/css" href="css/util.css">
  <link rel="stylesheet" type="text/css" href="css/main.css">
  <!--===============================================================================================-->
</head>

<body>
  <div class="container-contact100">
    <div class="wrap-contact100">
      <form id="google-form" class="contact100-form validate-form">
        <span class="contact100-form-title">
          å¹³æ¿å™¨æå€Ÿç”¨/æ­¸é‚„ç™»è¨˜è¡¨
        </span>
        <div class="card">
          <div class="card-body">
            <p class="card-text">å³æ—¥èµ·<b><font color="#FF0000">å¹³æ¿é‘°åŒ™å€Ÿç”¨ä¸é ˆç™»è¨˜</font></b>ï¼Œæ–¼æ ¡ç¶²ç¢ºå¯¦ç™»è¨˜å€Ÿç”¨å¹³æ¿è»ŠåŠå¯</p>

          </div>
        </div>
        
        
        <!-- registration 
        <label class="label-input100" for="email">è¨»å†Šç‹€æ…‹</label>
        <div class="wrap-input100 validate-input" data-validate="ç…©è«‹è©•åˆ†">
          <div class="container">
            <table class="table" id="reg_table">
              <thead>
                <tr>
                  <th scope="col"></th>
                  <th scope="col">1</th>
                  <th scope="col">2</th>
                  <th scope="col">3</th>
                  <th scope="col">4</th>
                  <th scope="col">5</th>
                </tr>
              </thead>
              <tbody>
              </tbody>
            </table>
          </div>
        </div>
        registration -->




        <label class="label-input100" for="email">è«‹é¸æ“‡æ¬²<h4><b><font color="#FF6100">å€Ÿç”¨</font></b></h4>æˆ–<h4><b><font color="#FF6100">æ­¸é‚„</font></b></h4>å™¨æ *</label>
        <div class="wrap-input100 validate-input" data-validate="ç…©è«‹è©•åˆ†">
          <div class="container">
            <div class="row align-items-center">

              <div class="col-3"></div>

              <div class="col-4">
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="option1"  checked="">
                  <label class="form-check-label" for="inlineRadio1"><h4><b>å€Ÿç”¨</b></h4></label>
                </div>
              </div>
              <div class="col-4">
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2">
                  <label class="form-check-label" for="inlineRadio2"><h4><b>æ­¸é‚„</b></h4></label>
                </div>
              </div>
            </div>
          </div>
        </div>




        <label class="label-input100" for="first-name"><font color="#548C00"><b>å§“å *</b></font></label>
        <div class="wrap-input100 validate-input" data-validate="">
          <input id="name" class="input100" type="text" placeholder="">
          <span class="focus-input100"></span>
        </div>


        <label class="label-input100" for="first-name"><font color="#005AB5"><b>æ•™å¸«ç”¨å¹³æ¿çŸ­æœŸå€Ÿç”¨</b></font></label>
        <div class="wrap-input100 "  >

          <div class="container">
            <div class="row">
              <div class="col">
              </div>
              <div class="col">
                <input class="form-check-input me-1" type="checkbox" value="" id="key_A">
                <label class="form-check-label" for="key_A"><p style="font-family: Poppins-Regular;">1</p></label>
              </div>
              <div class="col">
                <input class="form-check-input me-1" type="checkbox" value="" id="key_B">
                <label class="form-check-label" for="key_B"><p>2</p></label>
              </div>
              <div class="col">
                <input class="form-check-input me-1" type="checkbox" value="" id="key_C">
                <label class="form-check-label" for="key_C"><p>3</p></label>
              </div>
            </div>
            <div class="row">
              <div class="col">
              </div>
              <div class="col">
                <input class="form-check-input me-1" type="checkbox" value="" id="key_D">
                <label class="form-check-label" for="key_D"><p>4</p></label>
              </div>
              <div class="col">
                <input class="form-check-input me-1" type="checkbox" value="" id="key_E">
                <label class="form-check-label" for="key_E"><p>5</p></label>
              </div>
              <div class="col">
                <input class="form-check-input me-1" type="checkbox" value="" id="key_F">
                <label class="form-check-label" for="key_F"><p>6</p></label>
              </div>
            </div>

          </div>
          
        </div>


        

        <label class="label-input100" for="first-name"><font color="#4A4AFF"><b>è½‰æ¥é ­</b></font></label>
        <div class="wrap-input100 "  >

          <div class="container">
            <div class="row">
              <div class="col">
              </div>
              <div class="col">
                <input class="form-check-input me-1" type="checkbox" value="" id="adaptor_1">
                <label class="form-check-label" for="adaptor_1"><p>1</p></label>
              </div>
              <div class="col">
                <input class="form-check-input me-1" type="checkbox" value="" id="adaptor_2">
                <label class="form-check-label" for="adaptor_2"><p>2</p></label>
              </div>
              <div class="col">
                <input class="form-check-input me-1" type="checkbox" value="" id="adaptor_3">
                <label class="form-check-label" for="adaptor_3"><p>3</p></label>
              </div>
            </div>

          </div>
          
        </div>



        <label class="label-input100" for="first-name"><font color="#BE77FF"><b>è§¸æ§ç­†</b></font></label>
        <div class="wrap-input100 "  >

          <div class="container">
            <div class="row">
              <div class="col">
              </div>
              <div class="col">
                <input class="form-check-input me-1" type="checkbox" value="" id="pen_A">
                <label class="form-check-label" for="pen_A"><p>A</p></label>
              </div>
              <div class="col">
                <input class="form-check-input me-1" type="checkbox" value="" id="pen_B">
                <label class="form-check-label" for="pen_B"><p>B</p></label>
              </div>
              <div class="col">
                <input class="form-check-input me-1" type="checkbox" value="" id="pen_C">
                <label class="form-check-label" for="pen_C"><p>C</p></label>
              </div>
            </div>
          </div>
        </div>


    <!--===============================================================================================


        <label class="label-input100" for="first-name">å§“å *</label>
        <div class="wrap-input100 validate-input" data-validate="å§“åç‚ºå¿…å¡«">
          <input id="name" class="input100" type="text" placeholder="ç‹å¤§æ˜">
          <span class="focus-input100"></span>
        </div>

        <label class="label-input100" for="email">email</label>
        <div class="wrap-input100">
          <input id="email" class="input100" type="text" placeholder="Eg. example@email.com">
          <span class="focus-input100"></span>
        </div>

        <label class="label-input100" for="email">è©•åˆ†(æœ€é«˜äº”åˆ†) *</label>
        <div class="wrap-input100 validate-input" data-validate="ç…©è«‹è©•åˆ†">
          <select class="form-control" id="score" style="border: 0px;">
            <option>1</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5</option>
          </select>
        </div>

        <label class="label-input100" for="message">æ‚¨çš„å»ºè­°</label>
        <div class="wrap-input100" data-validate="Message is required">
          <textarea id="message" class="input100" placeholder="Write us a message"></textarea>
          <span class="focus-input100"></span>
        </div>

      <div class="container-contact100-form-btn">
          <button class="contact100-form-btn">
            é€å‡º
          </button>
        </div>

     <div class="container-contact100-form-btn">
      <button class="contact100-form-btn">
        é€å‡º
      </button>
    </div>
      -->
      <div class="container-contact100-form-btn">
      </div>
      
      <!-- <div class="container-contact100-form-btn">
        <div class="col "></div>
          <button type="button" id="btnHist" class="btn btn-outline-secondary " style="width: 15%">  ğŸ”’å€Ÿé–±ç´€éŒ„  </button>
          <div class="col "></div>

          <button type="button" id="btnReg" class="btn btn-outline-secondary " style="width: 15%">  ğŸ“é ç´„ç‹€æ…‹  </button>
          <div class="col "></div>

          <button type="submit" class="btn btn-outline-secondary " style="width: 15%">  âœ”ï¸ é€å‡º  </button>
          <div class="col "></div>

      </div> -->
      
      <div class="container">
        <div class="row justify-content-center align-items-center">
          <!-- <div class="col-sm-6 col-md-3"><span>
            <button type="button" id="btnHist" class="btn btn-outline-secondary " style="width: 100%">  ğŸ”’å€Ÿé–±ç´€éŒ„  </button>
          </span></div> -->
          <div class="col-sm-6 col-md-4"><span>
            <button type="button" id="btnReg" class="btn btn-outline-secondary " style="width: 100%">  ğŸ“é ç´„ç‹€æ…‹  </button>
          </span></div>
          <div class="col-sm-6 col-md-4"><span>
            <button type="submit" class="btn btn-outline-secondary " style="width: 100%">  âœ”ï¸ é€å‡º  </button>
          </span></div>
        </div>
      </div>

    </form>

  <!--===============================================================================================-->

       <div class="contact100-more flex-col-c-m" width=20px; style="background-image: url('images/bg-01.jpg');"> 
        

        <div class="flex-w size1 p-b-47">
          <div class="txt1 p-r-25">
            <span class="lnr lnr-heart"></span>
          </div>

          <div class="flex-col size2">
            <span class="txt1 p-b-20">
              å¹³æ¿å¤§å±å”åŠ©è¡Œæ”¿
            </span>

            <span class="txt2">
              æ–½å’…å‡
            </span>
          </div>
        </div>

        <div class="dis-flex size1 p-b-47">
          <div class="txt1 p-r-25">
            <span class="lnr lnr-phone-handset"></span>
          </div>

          <div class="flex-col size2">
            <span class="txt1 p-b-20">
              é›»è©±
            </span>

            <span class="txt3">
              <a href="tel:+886-2-0223456789">03 522 3075 # 512 or 101</a>
            </span>
          </div>
        </div>

        <div class="dis-flex size1 p-b-47">
          <div class="txt1 p-r-25">
            <span class="lnr lnr-envelope"></span>
          </div>

          <div class="flex-col size2">
            <span class="txt1 p-b-20">
              EMAIL
            </span>

            <span class="txt3">
              ysjht11108@ysjh.hc.edu.tw
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="dropDownSelect1"></div>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <!--===============================================================================================-->
  <script src="vendor/jquery/jquery-3.2.1.min.js"></script>
  <!--===============================================================================================-->
  <script src="vendor/animsition/js/animsition.min.js"></script>
  <!--===============================================================================================-->
  <script src="vendor/bootstrap/js/popper.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.min.js"></script>
  <!--===============================================================================================-->
  <script src="vendor/select2/select2.min.js"></script>
  <script>
    $(".selection-2").select2({
      minimumResultsForSearch: 20,
      dropdownParent: $('#dropDownSelect1')
    });
  </script>
  <!--===============================================================================================-->
  <script src="vendor/daterangepicker/moment.min.js"></script>
  <script src="vendor/daterangepicker/daterangepicker.js"></script>
  <!--===============================================================================================-->
  <script src="vendor/countdowntime/countdowntime.js"></script>
  <!--===============================================================================================-->
  
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <!--===============================================================================================-->
  <script src="js/main.js"></script>
  <script src="js/registration.js"></script>
  <script>
    // var btnHist = document.getElementById('btnHist');
    // var MD5 = function(d){var r = M(V(Y(X(d),8*d.length)));return r.toLowerCase()};function M(d){for(var _,m="0123456789ABCDEF",f="",r=0;r<d.length;r++)_=d.charCodeAt(r),f+=m.charAt(_>>>4&15)+m.charAt(15&_);return f}function X(d){for(var _=Array(d.length>>2),m=0;m<_.length;m++)_[m]=0;for(m=0;m<8*d.length;m+=8)_[m>>5]|=(255&d.charCodeAt(m/8))<<m%32;return _}function V(d){for(var _="",m=0;m<32*d.length;m+=8)_+=String.fromCharCode(d[m>>5]>>>m%32&255);return _}function Y(d,_){d[_>>5]|=128<<_%32,d[14+(_+64>>>9<<4)]=_;for(var m=1732584193,f=-271733879,r=-1732584194,i=271733878,n=0;n<d.length;n+=16){var h=m,t=f,g=r,e=i;f=md5_ii(f=md5_ii(f=md5_ii(f=md5_ii(f=md5_hh(f=md5_hh(f=md5_hh(f=md5_hh(f=md5_gg(f=md5_gg(f=md5_gg(f=md5_gg(f=md5_ff(f=md5_ff(f=md5_ff(f=md5_ff(f,r=md5_ff(r,i=md5_ff(i,m=md5_ff(m,f,r,i,d[n+0],7,-680876936),f,r,d[n+1],12,-389564586),m,f,d[n+2],17,606105819),i,m,d[n+3],22,-1044525330),r=md5_ff(r,i=md5_ff(i,m=md5_ff(m,f,r,i,d[n+4],7,-176418897),f,r,d[n+5],12,1200080426),m,f,d[n+6],17,-1473231341),i,m,d[n+7],22,-45705983),r=md5_ff(r,i=md5_ff(i,m=md5_ff(m,f,r,i,d[n+8],7,1770035416),f,r,d[n+9],12,-1958414417),m,f,d[n+10],17,-42063),i,m,d[n+11],22,-1990404162),r=md5_ff(r,i=md5_ff(i,m=md5_ff(m,f,r,i,d[n+12],7,1804603682),f,r,d[n+13],12,-40341101),m,f,d[n+14],17,-1502002290),i,m,d[n+15],22,1236535329),r=md5_gg(r,i=md5_gg(i,m=md5_gg(m,f,r,i,d[n+1],5,-165796510),f,r,d[n+6],9,-1069501632),m,f,d[n+11],14,643717713),i,m,d[n+0],20,-373897302),r=md5_gg(r,i=md5_gg(i,m=md5_gg(m,f,r,i,d[n+5],5,-701558691),f,r,d[n+10],9,38016083),m,f,d[n+15],14,-660478335),i,m,d[n+4],20,-405537848),r=md5_gg(r,i=md5_gg(i,m=md5_gg(m,f,r,i,d[n+9],5,568446438),f,r,d[n+14],9,-1019803690),m,f,d[n+3],14,-187363961),i,m,d[n+8],20,1163531501),r=md5_gg(r,i=md5_gg(i,m=md5_gg(m,f,r,i,d[n+13],5,-1444681467),f,r,d[n+2],9,-51403784),m,f,d[n+7],14,1735328473),i,m,d[n+12],20,-1926607734),r=md5_hh(r,i=md5_hh(i,m=md5_hh(m,f,r,i,d[n+5],4,-378558),f,r,d[n+8],11,-2022574463),m,f,d[n+11],16,1839030562),i,m,d[n+14],23,-35309556),r=md5_hh(r,i=md5_hh(i,m=md5_hh(m,f,r,i,d[n+1],4,-1530992060),f,r,d[n+4],11,1272893353),m,f,d[n+7],16,-155497632),i,m,d[n+10],23,-1094730640),r=md5_hh(r,i=md5_hh(i,m=md5_hh(m,f,r,i,d[n+13],4,681279174),f,r,d[n+0],11,-358537222),m,f,d[n+3],16,-722521979),i,m,d[n+6],23,76029189),r=md5_hh(r,i=md5_hh(i,m=md5_hh(m,f,r,i,d[n+9],4,-640364487),f,r,d[n+12],11,-421815835),m,f,d[n+15],16,530742520),i,m,d[n+2],23,-995338651),r=md5_ii(r,i=md5_ii(i,m=md5_ii(m,f,r,i,d[n+0],6,-198630844),f,r,d[n+7],10,1126891415),m,f,d[n+14],15,-1416354905),i,m,d[n+5],21,-57434055),r=md5_ii(r,i=md5_ii(i,m=md5_ii(m,f,r,i,d[n+12],6,1700485571),f,r,d[n+3],10,-1894986606),m,f,d[n+10],15,-1051523),i,m,d[n+1],21,-2054922799),r=md5_ii(r,i=md5_ii(i,m=md5_ii(m,f,r,i,d[n+8],6,1873313359),f,r,d[n+15],10,-30611744),m,f,d[n+6],15,-1560198380),i,m,d[n+13],21,1309151649),r=md5_ii(r,i=md5_ii(i,m=md5_ii(m,f,r,i,d[n+4],6,-145523070),f,r,d[n+11],10,-1120210379),m,f,d[n+2],15,718787259),i,m,d[n+9],21,-343485551),m=safe_add(m,h),f=safe_add(f,t),r=safe_add(r,g),i=safe_add(i,e)}return Array(m,f,r,i)}function md5_cmn(d,_,m,f,r,i){return safe_add(bit_rol(safe_add(safe_add(_,d),safe_add(f,i)),r),m)}function md5_ff(d,_,m,f,r,i,n){return md5_cmn(_&m|~_&f,d,_,r,i,n)}function md5_gg(d,_,m,f,r,i,n){return md5_cmn(_&f|m&~f,d,_,r,i,n)}function md5_hh(d,_,m,f,r,i,n){return md5_cmn(_^m^f,d,_,r,i,n)}function md5_ii(d,_,m,f,r,i,n){return md5_cmn(m^(_|~f),d,_,r,i,n)}function safe_add(d,_){var m=(65535&d)+(65535&_);return(d>>16)+(_>>16)+(m>>16)<<16|65535&m}function bit_rol(d,_){return d<<_|d>>>32-_}
    // var _id = "18344cbb-5839-443c-bf4c-964582e7c507";
    // var _basket = 'test2';
    // var maxRecords = 30;
    // btnHist.addEventListener('click', function() {
    //     // console.log('Go to history');
    //     Swal.fire({
    //       title: 'Please enter password',
    //       input: 'password',
    //       inputAttributes: {
    //         autocapitalize: 'off'
    //       },
    //       showCancelButton: true,
    //       confirmButtonText: 'Enter',
    //       showLoaderOnConfirm: true,
    //       preConfirm: (login) => {
    //         token = MD5(login)
    //         // console.log(login)
    //         // console.log(token)

    //         if (token == '4cefc12aef04aa29848c78c2078a4de1'){
    //           return true;
    //         }
    //         else {
    //           return false;
    //         }
    //       },
    //       allowOutsideClick: () => !Swal.isLoading()
    //     }).then((result) => {
    //       if (result.isConfirmed) {
    //         Swal.fire({
    //           title: `login success`,
    //         }).then((goHist) => {
    //           if (goHist.isConfirmed) {
    //             window.open("list.html?fromindex=1");
    //           } 
    //         })
    //       }
    //     })
    //     // ======================
    // });


    $('#google-form').submit(function (e) {
      //åœ¨é€™è£¡æˆ‘å€‘è¦å…ˆæ“‹æ‰formé»˜èªäº‹ä»¶
      // console.log('start')
      e.preventDefault();

      var borrow_or_return = '';
      jQuery("input[name='inlineRadioOptions']").each(function() {
          if (this.value == 'option1' && this.checked === true){
            borrow_or_return = 'å€Ÿç”¨';
          }
          if (this.value == 'option2' && this.checked === true){
            borrow_or_return = 'æ­¸é‚„';
          }
      });
      var user_name = $('#name').val();

      console.log("borrow or return:", borrow_or_return);
      console.log("user name:", user_name);

      

      payload = {
        "entry.466175103": borrow_or_return,
        "entry.731032610": user_name,
        "entry.1199301767": [], // key
        "entry.696234022": [], // adaptor
        "entry.1283718898": [], // pen
        "entry.1199301767_sentinel": "",
        "entry.696234022_sentinel": "",
        "entry.1283718898_sentinel": "",
        "fvv": 1
      }

      action_items = [];
      key_list = ["#key_A", "#key_B", "#key_C", "#key_D", "#key_E", "#key_F"];
      value_list = ["A", "B", "C", "D", "E", "F"];

      for (var idx in key_list){
        // console.log("check key:", key_list[idx]);
        if ($(key_list[idx]).prop('checked') == true){
          payload['entry.1199301767'].push(value_list[idx]);
          action_items.push(key_list[idx])
        }
      }

      key_list = ["#pen_A", "#pen_B", "#pen_C"];
      for (var idx in key_list){
        if ($(key_list[idx]).prop('checked') == true){
          payload['entry.1283718898'].push(value_list[idx]);
          action_items.push(key_list[idx])
        }
      }

      key_list = ["#adaptor_1", "#adaptor_2", "#adaptor_3"];
      value_list = ["1", "2", "3"];
      for (var idx in key_list){
        if ($(key_list[idx]).prop('checked') == true){
          payload['entry.696234022'].push(value_list[idx]);
          action_items.push(key_list[idx])
        }
      }


      console.log(payload);

      if (user_name) {
        // ==================== pantry ====================

        // step1: get data
        // var orig_data = [];
        // var settings = {
        //       "url": `https://getpantry.cloud/apiv1/pantry/${_id}/basket/${_basket}`,
        //       "method": "GET",
        //       "crossDomain": true,
        //       "timeout": 0,
        //       "headers": {
        //         "Content-Type": "application/json"
        //       },
        //     };

        //     $.ajax(settings).done(function (response) {
        //       orig_data = response.data
              
        //       // step2: delete record
        //       while (orig_data.length >= maxRecords){
        //         orig_data.shift()
        //       }

        //       // step2.5: additional information for current status
        //       // response.status --> {KeyA: AVAL, KeyB: AVAL,...}
        //       console.log(`action items: ${action_items}`)
        //       update_status = response.status;
        //       if (borrow_or_return == 'å€Ÿç”¨'){
        //         // update status from AVAL to DOWN
        //         for (var idx in action_items){
        //           update_status[action_items[idx]] = "DOWN";
        //         }

        //       }
        //       else {
        //         // update status from DOWN to AVAL
        //         for (var idx in action_items){
        //           update_status[action_items[idx]] = "AVAL";
        //         }

        //       }

        //       // step3: push and update
        //       let cur_date = new Date();
        //       cur_date = cur_date.toLocaleString()
              
        //       orig_data.push([
        //         cur_date,
        //         payload['entry.731032610'], //user_name
        //         payload['entry.1199301767'], //key
        //         payload['entry.696234022'], //adaptor
        //         payload['entry.1283718898'], //pen
        //         payload['entry.466175103'], //borrow_or_return
        //       ])

        //       var settings = {
        //         "url": `https://getpantry.cloud/apiv1/pantry/${_id}/basket/${_basket}`,
        //         "method": "POST",
        //         "crossDomain": true,
        //         "timeout": 0,
        //         "headers": {
        //           "Content-Type": "application/json"
        //         },
        //         "data": JSON.stringify({
        //           "data": orig_data,
        //           "status": update_status,
        //         }),
        //       };

        //       $.ajax(settings).done(function (response) {
        //         console.log(response);
        //       });
        //       // step3 finished
              
        //     });
        

        // ==================== google form ====================
        console.log('check finished, post to Google');
        $.ajax({
          // urlç‚ºGoogle FormæŒ‰ä¸‹submitçš„aciotn
          url: "https://docs.google.com/forms/u/1/d/e/1FAIpQLSe9Ton_SPgX2SvGQUNSoxr49gHI6OJKUcAHQX14QAj3z0ZIvQ/formResponse",
          crossDomain: true,//è§£æ±ºè·¨ç¶²åŸŸCORSçš„å•é¡Œ
          traditional: true,
          data: payload,
          type: "POST",
          dataType: "JSONP",
          
          complete: function (resp) {
            console.log('status: ', resp.status);
            Swal.fire({
              position: 'center',
              icon: 'success',
              title: 'Your request has been saved',
              showConfirmButton: false,
              timer: 1500
            })
            //å®Œæˆå¾ŒæŠŠé€™äº›æ¬„ä½æ¸…ç©º
            $('#name').val('')
            $('#email').val('')
            $('#score').val('')
            $('#message').val('')
            //æœ€å¾Œè·³è½‰åˆ°æ„Ÿè¬çš„é é¢
            setTimeout(function(){
                window.location.replace("index.html");
            },1600);
            
          }
        });
      }
    });

    // onload
    window.onload=function(){
      console.log("onload...")
      // var settings = {
      //   "url": `https://getpantry.cloud/apiv1/pantry/${_id}/basket/${_basket}`,
      //   "method": "GET",
      //   "crossDomain": true,
      //   "timeout": 0,
      //   "headers": {
      //     "Content-Type": "application/json"
      //   },
      // };

      // $.ajax(settings).done(function (response) {
      //   for (var item_name in response.status){
      //     // console.log(item_name) // #key_A, #pen_A, #adaptor_1
      //     // console.log(response.status[item_name])
      //     // console.log(`${item_name}_status`)

      //     let status_element = document.getElementById(`${item_name}_status`)

      //     if (response.status[item_name] === 'AVAL'){
      //       // color to green
      //       status_element.src = "./images/green-light.png";
      //     }
      //     else {
      //       // color to red 
      //       status_element.src = "./images/orange-light.png";
      //     }

      //   }

      // });
        
      
      // prepare registration
      // var reg_table = document.getElementById("reg_table");
      // getRegistration(reg_table)

      var btnReg = document.getElementById('btnReg');

      btnReg.addEventListener('click', function() {
        let timerInterval;
        Swal.fire({
          title: "Loading...",
          timer: 5000,
          timerProgressBar: true,
          didOpen: () => {
            Swal.showLoading();
            const timer = Swal.getPopup().querySelector("b");
            timerInterval = setInterval(() => {
              timer.textContent = `${Swal.getTimerLeft()}`;
            }, 100);
          },
          willClose: () => {
            clearInterval(timerInterval);
          }
        }).then((result) => {
          /* Read more about handling dismissals below */
          if (result.dismiss === Swal.DismissReason.timer) {
            // console.log("I was closed by the timer");
          }
        });

        axios.get('https://25eadr7ui5.execute-api.ap-southeast-2.amazonaws.com/STG/getRegister')
        .then(function (response) {
          // handle success
          Swal.fire({
            title: "é ç´„ç‹€æ…‹",
            html: response.data.body,
            color: "#716add",
            width: 1000,
            backdrop: `
              rgb a(0,0,123,0.4)
              url("/images/nyan-cat-nyan.gif")
              left top
              no-repeat
            ` 
          });

        })
        .catch(function (error) {
          // handle error
          console.log(error);
        })
        .finally(function () {
          // always executed
        });
      });


    }

  </script>
</body>

</html>
